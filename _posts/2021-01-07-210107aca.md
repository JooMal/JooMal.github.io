---
layout: post
title: "01.07 μ›Ήκ°λ° κ°•μ μ •λ¦¬"
date: 2021-01-07
tags: [backend]
category : [study]
comments: true
---

# SQL
### λ·°View
λ·°λ” μ‚¬μ©μμ—κ² μ ‘κ·Όμ΄ ν—μ©λ μλ£λ§μ„ μ ν•μ μΌλ΅ λ³΄μ—¬μ£ΌκΈ° μ„ν•΄ ν•λ‚ μ΄μƒμ κΈ°λ³Έ ν…μ΄λΈ”λ΅λ¶€ν„° μ λ„λ, μ΄λ¦„μ„ κ°€μ§€λ” κ°€μƒ ν…μ΄λΈ”μ…λ‹λ‹¤. μ‰½κ² λ§ν•μλ©΄ μ ν•λ λ°μ΄ν„°λ§ μ μ €μ—κ² λ³΄μ—¬μ£Όλ” μ–΄λ–¤ κ°€μƒμ ν…μ΄λΈ”μ„ λ§λ“λ” κ²ƒμ…λ‹λ‹¤.  

```sql
create view v_userbuytbl
as
select u.userID, u.name, b.prodName, u.addr, concat(u.mobile1, u.mobile2) as 'μ—°λ½μ²'
from usertbl u
inner join buytbl b
on u.userID = b.userID

select * from v_userbuytbl where name = "κΉ€λ²”μ";
```

### μΈλ±μ¤Index
μ¥μ  : (1) κ²€μƒ‰μ„ λΉ λ¥΄κ² ν•΄μ„ ν™•μΈν•λ” μ‘μ—…μ΄ κ°„νΈν•΄μ§‘λ‹λ‹¤.
λ‹¨μ  : (1) κ²€μƒ‰μ„ ν•΄μ„ μμ •ν•λ” μ‘μ—…μ΄λ” ν¨μ¨μ΄ λ–¨μ–΄μ§€κ³ , (2) μΈλ±μ¤λ¥Ό λ§λ“¤κΈ° μ„ν• μ¶”κ°€μ μΈ λ©”λ¨λ¦¬κ°€ ν•„μ”ν•©λ‹λ‹¤. λ€λµ μ „μ²΄ κ³µκ°„μ 10% μ •λ„μ μ¶”κ°€ κ³µκ°„μ΄ ν•„μ”ν•©λ‹λ‹¤. (3) μ²μμ— μΈλ±μ¤λ¥Ό μƒμ„±ν•λ” λ°μ— μ‹κ°„μ΄ μ†μ”λ©λ‹λ‹¤.  

> create index μΈλ±μ¤μ΄λ¦„
  on ν…μ΄λΈ”μ΄λ¦„(ν•„λ“1, ν•„λ“2, ...);
  show index from ν…μ΄λΈ”μ΄λ¦„


# μ¤ν¬λ¦½νΈ μ–Έμ–΄ κ°μ”μ™€ HTML λ¬Έλ²•
### μ„λ²„ μ¤ν¬λ¦½νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ¤ν¬λ¦½νΈ
- ν΄λΌμ΄μ–ΈνΈ μ¤ν¬λ¦½νΈ : ν΄λΌμ΄μ–ΈνΈμ μ›Ή λΈλΌμ°μ €μ—μ„ ν•΄μ„λλ” κ²ƒμ…λ‹λ‹¤. htmlμ΄λ‚ jsλ΅λ§ κµ¬μ„±λ μ½”λ“λ΅, μ›Ήμ„λ²„κ°€ μ—†μ–΄λ„ ν΄λΌμ΄μ–ΈνΈμ λ””μ¤ν¬μ— μ €μ¥ν• κ²ƒμ΄ λ°”λ΅ μ‹¤ν–‰λ©λ‹λ‹¤.  
- μ„λ²„ μ¤ν¬λ¦½νΈ : μ„λ²„μ—μ„ μ²λ¦¬ν•΄μ„ HTML μ½”λ“λ΅ λ³€ν™ν•΄ μ „λ‹¬ν•λ” μ–Έμ–΄μ…λ‹λ‹¤. κ°€λ Ή PHP, JSPκ°€ μμµλ‹λ‹¤. λ€λ¶€λ¶„ λ°μ΄ν„°λ² μ΄μ¤μ™€ μ—°λ™λλ©°, μ”μ²­ν•  λ•λ§λ‹¤ μƒλ΅ ν•΄μ„ν•΄ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅ν•κ³ , μ‹¤μ‹κ°„μΌλ΅ λ³€κ²½λλ„λ΅ ν”„λ΅κ·Έλλ°λ©λ‹λ‹¤. λ™μ  μ›Ή μ‚¬μ΄νΈ(Dynamic Web Site)λ¥Ό κµ¬μ„±ν•  λ•μ— ν•„μ”ν•©λ‹λ‹¤. κ°€λ Ή, ν„μ¬ λ‚ μ”¨ μ •λ³΄λ‚ μ‡Όν•‘λ¬Ό λ¬Όν’μ ν„μ¬ λ‚¨μ€ μλ‰μ„ μ²΄ν¬ν•  λ• μ”κµ¬λ©λ‹λ‹¤.

# PHP
### λ³€μ
- λ³€μ μ΄λ¦„ μ•μ— `$`μ„ λ¶™μ—¬μ£Όμ–΄μ•Ό ν•©λ‹λ‹¤.
- λ³„λ„μ λ³€μ μ„ μ–Έμ΄ μ—†κ³ , κ°’μ„ λ€μ…ν•μλ§μ λ³€μ λ°μ΄ν„° ν•μ‹μ΄ κ²°μ •λ©λ‹λ‹¤.
### λ°μ΄ν„° ν•μ‹
- `gettype()` : λ³€μμ λ°μ΄ν„° ν•μ‹μ„ λ³΄μ—¬μ¤λ‹λ‹¤.
- SQLλ¬Έμ„ λ¬Έμμ—΄λ΅ μ§€μ •ν•  λ•μ—λ”, κµ¬λ¬Έμ„ ν° λ”°μ΄ν‘(`"`)λ΅ λ¬¶κ³  SQLλ¬Έ λ‚΄λ¶€μ—μ„ ν•„μ”ν• λ¬Έμμ—΄μ€ μ‘μ€ λ”°μ΄ν‘(`'`)λ΅ λ¬¶μµλ‹λ‹¤.
### κΈ°λ³Έ λ¬Έλ²•
- if, elseif, else, switch, for, while λ“± κΈ°λ³Έ λ¬Έλ²•μ€ Cμ™€ μ μ‚¬ν•λ‚ λ³€μμ΄λ¦„ μ•μ—λ” λ°λ“μ‹ `$`λ¥Ό λ¶™μ—¬μ¤μ— μ μν•΄μ•Ό ν•©λ‹λ‹¤.
- λ°°μ—΄μ€ (1) `$λ°°μ—΄λ… = array(κ°’1, κ°’2, κ°’3, ...)`, (2) `$λ°°μ—΄λ… = range(μ‹μ‘κ°’, λκ°’, μ¦κ°€κ°’);`, (3) `$λ°°μ—΄λ…[0] = κ°’1; $λ°°μ—΄λ…[1] = κ°’2; ...` μΌλ΅ μ„ μ–Έν•  μ μμµλ‹λ‹¤.
- λ°°μ—΄μ— μ‚¬μ© κ°€λ¥ν• ν•¨μλ΅λ” (1) `shuffle(λ°°μ—΄λ…)`μ„ μ‚¬μ©ν•μ—¬ λ°°μ—΄μ λ‚΄λ¶€λ¥Ό μ„μλ΅ μ„μ„ μ μκ³ , (2) `foreach(λ°°μ—΄λ… as λ³€μλ…)`μΌλ΅ foreachλ¬Έμ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. μ΄μ™Έμ— (3) `sort(λ°°μ—΄λ…)`κ³Ό `rsort(λ°°μ—΄λ…)`μ„ μ΄μ©ν•΄ μ¤λ¦„μ°¨μ/λ‚΄λ¦Όμ°¨μ μ •λ ¬μ΄ κ°€λ¥ν•λ©°, (4)`array_reverse(λ°°μ—΄λ…)`μ„ μ΄μ©ν•΄ λ°°μ—΄ μμ„λ¥Ό λ°λ€λ΅ μ €μ¥ν•  μ μμµλ‹λ‹¤.  

# phpλ¬Έμ„μ—μ„ mysqlκ³Ό μ—°κ²°ν•κΈ°
[λ§ν¬ PHPμ mysql λ©”λ‰΄μ–Ό](https://www.php.net/manual/en/ref.mysql.php) μ—μ„ phpμ™€ mysql μ—°λ™ ν•¨μλ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.  

### μ—°κ²°ν•κΈ°

```php
$db_host = "localhost";
$db_user = "root";
$db_password = "λΉ„λ°€λ²νΈ";
$db_name = "";
$con = mysqli_connect($db_host, $db_user, $db_password, $db_name);

if(mysqli_connect_error($con)) {
    echo "mysql connection error!", "<br>";
    echo "μ¤λ¥ μ›μΈ:", mysqli_connect_error();
    exit();
}
echo "mysql connection complete";
mysqli_close($con);
```

μ΄λ•,  
(1) mysqli_coonect_error()λ” DBμ™€ μ—°κ²°μ‹μ— λ°μƒν• μ—λ¬κ°€ μλ”μ§€ ν™•μΈν•λ” php λ‚΄μ¥ν•¨μμ…λ‹λ‹¤.  
(2) mysqli_erroR($con)μ€ DBκ°€ μ—°κ²°μ€ λμ—λ”λ°, μ—°κ²°λμ–΄ ν…μ΄λΈ”μ„ λ§λ“¤κ±°λ‚ μ‚¬μ©ν•  λ•μ— λ°μƒν• μ—λ¬λ¥Ό ν™•μΈν•λ” php λ‚΄μ¥ν•¨μμ…λ‹λ‹¤. νλΌλ―Έν„°λ΅ λ„κ²¨μ£Όλ” $conμ„ ν™μ©ν•΄ DBμ •λ³΄λ¥Ό λ„κ²¨μ¤λ‹λ‹¤.  
νΉμ€ κ°„λ‹¨ν `die`ν•¨μλ¥Ό ν™μ©ν•μ—¬ μ—λ¬λ¥Ό ν‘μ‹ν•΄μ¤„ μλ„ μμµλ‹λ‹¤.

```sql
    $con = mysqli_connect("localhost","root","yelin0930!","dbsql2") or die("mysql μ ‘μ† μ‹¤ν¨");
```

### SQLλ¬Έ λ„κ²¨μ£ΌκΈ°

```sql
$sql = "create database dbsql3";
$ret = mysqli_query($con, $sql);

if($ret) {
    echo "sqldbκ°€ μ •μƒμ μΌλ΅ μ‹¤ν–‰λμ—μµλ‹λ‹¤.";
} else {
    echo "sqldb μƒμ„± μ‹¤ν¨!";
    echo mysqli_error($con);
}
```

μ„μ™€ κ°™μ€ μ½”λ“λ¥Ό μ΄μ©ν•μ—¬ DBμ— sql queryλ¥Ό λ„κ²¨μ¤„ μ μμµλ‹λ‹¤.  

---

# π‘Ήπ’†π’‡π’†π’“π’†π’π’„π’†
[λ·°(View)λ€ λ¬΄μ—‡μΈκ°€?](https://coding-factory.tistory.com/224)
