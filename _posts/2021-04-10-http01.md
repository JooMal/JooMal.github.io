---
layout: post
title: "모든 개발자를 위한 HTTP 웹 기본지식 01"
date: 2021-04-10
tags: [http, network]
category : [study]
comments: true

---



# HTTP 웹 기본지식

해당 강의는 인프런 김영한 개발자님의 [모든 개발자를 위한 HTTP 웹 기본 지식]([https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC](https://www.inflearn.com/course/http-웹-네트워크))을 수강하며 남기는 정리본입니다. 이해를 돕기 위한 자세한 공부와 실제 코드, 동작은 해당 강의를 결제하여 수강해주세요! 유료강의 첫 결제가 어렵지, 한 번 하고나면 무료강의로는 접하기 어려운 높은 퀄리티의 강의로 공부하실 수 있습니다.



### 인터넷 통신

인터넷 네트워크 망에 기반하여 HTTP 통신이 이루어진다.



### IP(인터넷 프로토콜)

네트워크 상에서 통신하기 위한 규약. 지정한 IP 주소에 패킷이라는 통신 단위로 데이터를 전달하게 된다.

- IP 패킷 : 출발지 IP, 목적지 IP, 전송데이터 등을 포함한다.

- 출발 IP 주소에서 목적 IP 주소까지 갈 수 있도록 많은 루트를 거쳐서 목적 IP 주소에 도착하게 된다.
- 목적 IP 주소에선 잘 받았다는 신호 등을 담은 **서버패킷**을 다시 클라이언트로 던진다.



### IP 프로토콜의 한계

1. 비연결성 : 패킷 받을 대상이 없더라도, 서비스가 불능이어도 패킷을 무작정 보냄.
   - 대상 서버가 패킷을 받을 수 있는 상태인지 확인하지 않고 일단 보낸다.
2. 비신뢰성 : 중간에 패킷이 사라지거나 순서대로의 도착을 보장해주지 않음.
   - 서버 문제 등으로 패킷이 유실되기도 함.
   - 순서 보장 X 
3. 프로그램 구분 : 같은 IP를 사용하는 서버에서는 어떤 어플리케이션이 요청한건지 어떻게 구별할 것인가?



### TCP/UDP

HTTP의 패킷 손실과 순서 보장 불가능한 단점을 보완하기 위함.

- 인터넷 프로토콜 스택의 4계층
  1. 어플리케이션 계층 (HTTP, FTP)
     - 웹 브라우저, 네트워크 게임, 채팅프로그램
     - 프로그램이 생성한 명령이 **SOCKET 라이브러리**를 통해 OS로 전달된다.
  2. 전송 계층 (TCP, UDP)
     - OS
     - TCP 정보 생성, 메시지 데이터 포함
  3. 인터넷 계층 (IP)
     - OS
     - IP 패킷 생성, TCP 데이터 포함
       - IP패킷 : 출발지 IP, 목적지 IP 등의 정보를 포함하고 있다. {이러한 메타데이터 + 전송데이터}가 날아감.
       - TCP 세그먼트 : 출발지 PORT, 목적지 PORT, 전송 제어/순서/검증 정보 -> 순서 제어 문제를 해결하게 된다.
  4. 네트워크 인터페이스 계층
     - LAN 드라이버, LAN 장비
     - 이더넷 프레임이 포함이 되어서 날아간다.



### TCP(Transmission Control Protocol)

1. 연결 지향 - TCP 3 way handshake (연결을 한 후에 메세지를 보낸다.)
2. 데이터 전달 보증 (패킷이 누락되면 이를 알 수 있게 해준다.)
3. 순서 보장

- 신뢰할 수 있는 프로토콜



### TCP 3 way handshake

1. 클라이언트->서버 : `SYN` (접속 요청)

2. 서버->클라이언트 : `SYN` + `ACK`

3. 클라이언트->서버 : `ACK` (요청 수락) => 요즘은 발전해서 이 단계에서 데이터 전송하기도

4. 클라이언트<->서버 : 데이터 전송



### UDP(User Datagram Protocol)

IP와 거의 같은데 PORT + checksum(메세지가 잘 왔는데 검증해주는 데이터) 정도만 추가됨.

안정성은 없는데 빠름. 깨져도 되는 영상같은건 UDP로 보냈었음. 최근에는 90% 이상 TCP로 보냈는데, 이젠 다시 UDP가 뜨고 있다. 

